## 1. 引入 Session 状态保持 (State Persistence)
- **修改文件**: `content_gemini.js`
- **逻辑**:
    - **写入状态**: 在 `setupAutoPinObserver` 中，一旦检测到 `usp=sharing`，立即将 Gem ID 存入 `sessionStorage` (Key: `nlm_shared_gem_context`).
    - **读取状态**: 在 `renderSharedGems` 中，判定 `isSharedLink` 的条件从“仅检查当前 URL”扩展为“当前 URL 参数 **OR** Session Storage 中有记录”。
    - **清理状态**: 当检测到 URL 切换到非 Gem 页面时，自动清理 Session Storage，防止状态污染。

## 2. 优化渲染逻辑 (Render Logic)
- **修改文件**: `content_gemini.js`
- **逻辑**: 确保即使 URL 参数被 Gemini 移除，只要 Gem ID 匹配 Session 记录，依然显示“+ 固定当前 Gem”按钮。

## 3. 版本发布
- 升级版本号至 **3.0.0.28**。
- 更新 CHANGELOG.md。
- 打包生成 zip。